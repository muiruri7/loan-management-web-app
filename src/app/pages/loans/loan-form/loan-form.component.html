<div class="loan-form">
  <h2>{{ isEdit ? 'Edit Loan' : 'Add Loan' }}</h2>

  <form (ngSubmit)="submitLoan()" #loanForm="ngForm">
    <label>Borrower</label>
    <select [(ngModel)]="loan.borrower" name="borrower" required>
      <option *ngFor="let customer of customers" [value]="customer.id">{{ customer.name }}</option>
    </select>
    <div *ngIf="loanForm.submitted && !loan.borrower" class="error">Borrower is required.</div>

    <label>Amount</label>
    <input type="number" [(ngModel)]="loan.amount" name="amount" required min="1000" />
    <div *ngIf="loanForm.submitted && (!loan.amount || loan.amount < 1000)" class="error">Minimum loan amount is 1000.</div>

    <label>Loan Type</label>
    <select [(ngModel)]="loan.type" name="type" required>
      <option value="Personal">Personal</option>
      <option value="Business">Business</option>
      <option value="Mortgage">Mortgage</option>
      <option value="Auto">Auto</option>
    </select>

    <label>Loan Term (Months)</label>
    <input type="number" [(ngModel)]="loan.term" name="term" required min="1" />
    <div *ngIf="loanForm.submitted && !loan.term" class="error">Loan term is required.</div>

    <label>Interest Rate (%)</label>
    <input type="number" [(ngModel)]="loan.interestRate" name="interestRate" required min="1" step="0.01" />
    <div *ngIf="loanForm.submitted && !loan.interestRate" class="error">Interest rate is required.</div>

    <label>Status</label>
    <select [(ngModel)]="loan.status" name="status" required>
      <option value="Pending">Pending</option>
      <option value="Approved">Approved</option>
      <option value="Rejected">Rejected</option>
    </select>

    <button type="submit" class="btn btn-success">{{ isEdit ? 'Update' : 'Add' }} Loan</button>
  </form>
</div>
